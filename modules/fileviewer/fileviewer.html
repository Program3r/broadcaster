<template name="file">
    <div class="file span2 {{extension}}" id="{{_id}}">
        <div class="filename">
            <div class="icon pull-left"></div>
            <div class="filename pull-left">{{filename}}</div>
        </div>
        {{>filecontrols}}
    </div>
</template>



<template name="filetable--">

    <section id="filemanager" class="span">
    <h3>File Browser<button class="purgefiles pull-right btn btn-warning" style="margin-right:20px;"><i class="icon-minus"></i> Purge Files</button></h3>
    <div class="well">
              <div class="head row">
                    <div class="span1"><i class="icon-film"></i></div>
                    <div class="span1">Filename</div>
                    <div class="span1">Duration</div>
              </div>
              {{#each file}}
                  <div class="row">
                            <div class="span1">
                                {{>filetablefile}}
                            </div>
                            <div class="filename span1">{{filename}}</div>
                            <div class="span1">{{duration}}</div>
                          <div class="span1">{{!>filecontrols}}</div>
                  </div>
              {{/each}}
        {{#each file}}
            {{>fileinfo}}
        {{/each}}
    </div>
    </section>
</template>


<template name="filetable">

    <section id="filemanager" class="span">
    <h3>File Browser<button class="purgefiles pull-right btn btn-warning" style="margin-right:20px;"><i class="icon-minus"></i> Purge Files</button></h3>
    <table class="table table-bordered filetable">
              <thead>
                <tr>
                  <th>Filename</th>
                  <th>Duration</th>
                  <th></th>
                </tr>
              </thead>
                                <tbody>
              {{#each file}}

                    <tr>
                        <td>
                            {{>filetablefile}}
                        </td>
                        <td>{{duration}}</td>
                      <td>{{!>filecontrols}}</td>
                      
                    </tr>

              {{/each}}
                                </tbody>
        </table>
        {{#each file}}
            {{>fileinfo}}
        {{/each}}
    </section>
</template>


<template name="filetablefile">
    <div id="{{_id}}" class="filetablefile">
            <div class="draggablefile" data-fileid="{{_id}}"><i class="icon-move pull-left" style="margin-top:6px;"></i><div class="icon pull-left {{extension}}"></div></div>
    </div>
</template>





<template name="filecontrols">
        <div class="btn-group">
            <a class="btn file-info" href="#info{{_id}}" data-toggle="modal"><i class="icon-info-sign"></i></a>
            <!--<a class="btn" href="#play{{_id}}" data-toggle="modal"><i class="icon-eye-open"></i></a>-->
        </div>
</template>



<template name="files">
    <section id="filemanager" class="well">
        <div class="filebox">
            {{#each file}}
                {{>file}}
                {{>fileinfo}}
                {{!>flvplayer}}
            {{/each}}
        </div>
    </section>
</template>






<template name="fileinfo">
    <div id="info{{_id}}" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">{{filename}}</h3>
  </div>
  <div class="modal-body">
    <p>
        
    </p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
  </div>
</div>
</template>



<template name="flvplayer">
    <div id="play{{_id}}" class="playmodal modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">{{filename}}</h3>
  </div>
  <div class="modal-body">
    <p>
          <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="640" height="480" id="VideoPlayer" align="middle">
    <param name="allowScriptAccess" value="*" /> <param name="allowFullScreen" value="true" />
    <param name="movie" value="http://www.platipus.nl/flvplayer/download/1.0/FLVPlayer.swf?video={{filepath}}&autoplay=false" />
    <param name"quality" value="high" /><param name="bgcolor" value="#ffffff" />
    <embed src="http://www.platipus.nl/flvplayer/download/1.0/FLVPlayer.swf?video={{filepath}}&autoplay=false" quality="high" bgcolor="#000000" width="640" height="480" name="VideoPlayer" align="middle" allowScriptAccess="*" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />
    </object>  
    </p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
  </div>
</div>
</template>